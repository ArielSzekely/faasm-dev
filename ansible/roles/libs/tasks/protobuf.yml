---

- name: "Install protobuf apt packages"
  become: yes
  apt:
    name: "{{ item }}"
  with_items:
    - "protobuf-dev"
    - "protobuf-compiler"

#- name: "Download source"
#  shell: "{{ item }}"
#  args:
#    chdir: "/tmp/"
#  with_items:
#    - "curl -O -L https://github.com/google/protobuf/releases/download/v3.6.0/protobuf-cpp-3.6.0.tar.gz"
#    - "tar xvf protobuf-cpp-3.6.0.tar.gz"
#
#- name: "Build and install"
#  become: yes
#  shell: "{{ item }}"
#  args:
#    chdir: "/tmp/protobuf-3.6.0"
##  environment:
##    CC: "/usr/bin/gcc"
##    CPP: "/usr/bin/gcc"
##    CXX: "/usr/bin/g++"
##    LINK: "/usr/bin/g++"
#  with_items:
#    - "./configure"
#    - "make"
#    - "make check"
#    - "sudo make install"
#
